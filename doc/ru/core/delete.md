## Оператор `delete`

Если кратко — в JavaScript невозможно удалить глобальную переменную или функцию или какую-либо другую сущность, у которой установлен атрибут `DontDelete`.

### Глобальный код и код внутри функций

Когда переменная или функция определена в глобальной области видимости или в [области видимости функции](#function.scopes), её судьба предопределена: (_прим. перев._ — где-то внутри движка JavaScript) она является свойством либо объекта Activation, либо объекта Global. Каждое из таких свойств имеет по набору атрибутов, среди которых присутствует и `DontDelete`. Переменные и объявления функций, обнаруженные движком в глобальной области или в коде функции, создаются с атрибутом `DontDelete` и, посему, не могут быть удалены.

    // глобальная переменная:
    var a = 1; // установлен DontDelete
    delete a; // false
    a; // 1

    // обычная функция:
    function f() {} // установлен DontDelete
    delete f; // false
    typeof f; // "function"

    // переопределение не помогает:
    f = 1;
    delete f; // false
    f; // 1

### Установленные пользователем свойства

Свойства, установленные явно, могут быть удалены без помех:

    // явно установим свойства:
    var obj = {x: 1};
    obj.y = 2;
    delete obj.x; // true
    delete obj.y; // true
    obj.x; // undefined
    obj.y; // undefined

В приведённом примере свойства `obj.x` и `obj.y` могут быть удалены, поскольку у них отсутствует атрибут `DontDelete`. По этой же причине работает и пример ниже:

    // работает нормально, но не в IE
    var GLOBAL_OBJECT = this;
    GLOBAL_OBJECT.a = 1;
    a === GLOBAL_OBJECT.a; // true - просто глобальная переменная
    delete GLOBAL_OBJECT.a; // true
    GLOBAL_OBJECT.a; // undefined

Здесь, чтобы удалить `a`, мы используем трюк. В этом коде [`this`](#function.this) ссылается на объект Global и мы явно описываем переменную `a` под видом его свойства, что позволяет нам её успешно удалить.

В IE (по крайней мере, с 6-го по 8-й), есть парочка багов, из-за которых такой код не заработает.

### Аргументы функций и встроенные свойства

Обычные аргументы функций, [объект `arguments`](#function.arguments), а также встроенные свойства, объединены общей особенностью: у них у всех установен атрибут `DontDelete`.

    // аргументы функций и свойства:
    (function (x) {

      delete arguments; // false
      typeof arguments; // "object"

      delete x; // false
      x; // 1

      function f(){}
      delete f.length; // false
      typeof f.length; // "number"

    })(1);

### Хост-объекты

(_прим. перев._ — Хост-объекты — это объекты, которые, в неком окружении, дополняют функциональность языка JavaScript, не являясь частью его спецификации. В случае браузера это объекты `window`, `document`, `setTimeout` и т.п.)

Поведение оператора `delete` может быть абсолютно непредсказуемым при применении его к хост-объектам. С позволения спецификации, хост-объекты вольны вести себя как им только вздумается.

### Заключение

Оператор `delete` часто ведёт себя непредсказуемо и надёжно может использоваться только для удаления пользовательских свойств обычных объектов.